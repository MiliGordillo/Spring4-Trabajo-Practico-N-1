<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Dashboard de Superheroes</title>
  <link rel="stylesheet" href="/css/style.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">

</head>
<body>
  <h1>SUPERHÃ‰ROES</h1>

  <% if (mensaje === 'agregado') { %>
    <div class="alert alert-success">
      âœ… SuperhÃ©roe agregado correctamente.
    </div>
  <% } %>
  
  <% if (mensaje === 'eliminado') { %>
    <div class="alert alert-danger">
      ğŸ—‘ï¸ SuperhÃ©roe eliminado correctamente.
    </div>
  <% } %>
  
  <% if (mensaje === 'editado') { %>
    <div class="alert alert-info">
      âœï¸ SuperhÃ©roe editado correctamente.
    </div>
  <% } %>
  
    <% if (heroes && heroes.length > 0) { %>
    <div class="hero-grid">
      <% heroes.forEach(hero => { %>
        <div class="hero-card">
          <h2><%= hero.Nombre %></h2>
          <p><strong>Nombre Real:</strong> <%= hero["Nombre Real"] || "No disponible" %></p>
          <p><strong>Edad:</strong> <%= hero.Edad || "Desconocida" %></p>
          <p><strong>Planeta de Origen:</strong> <%= hero["Planeta de Origen"] || "Desconocido" %></p>
          <p><strong>Debilidad:</strong> <%= hero.Debilidad || "Ninguna" %></p>
          <p><strong>Habilidad Especial:</strong> <%= hero["Habilidad Especial"] || "No especificada" %></p>
          <p><strong>Poderes:</strong> <%= Array.isArray(hero.Poderes) && hero.Poderes.length > 0 ? hero.Poderes.join(", ") : "Ninguno" %></p>
          <p><strong>Aliados:</strong> <%= Array.isArray(hero.Aliados) && hero.Aliados.length > 0 ? hero.Aliados.join(", ") : "Ninguno" %></p>
          <p><strong>Enemigos:</strong> <%= Array.isArray(hero.Enemigos) && hero.Enemigos.length > 0 ? hero.Enemigos.join(", ") : "Ninguno" %></p>
  
          <div class="hero-actions">
            <a href="/heroes/formulario/editar/<%= hero._id %>" class="edit-btn">Editar <br>âœï¸</a>
            <form action="/heroes/<%= hero._id %>?_method=DELETE" method="POST" style="display:inline;" onsubmit="return confirmarEliminacion()">
              <button type="submit" class="delete-btn">Eliminar</button>
            </form> 
          </div>
        </div>
      <% }) %>
    </div>
    <% } else { %>
    <p class="no-heroes">No hay hÃ©roes disponibles.</p>
    <% } %>
  
    <script>
      function confirmarEliminacion() {
      return confirm('Â¿EstÃ¡s seguro de que deseas eliminar este superhÃ©roe? Esta acciÃ³n no se puede deshacer.');
      }
    </script>
  </body>
  </html>











